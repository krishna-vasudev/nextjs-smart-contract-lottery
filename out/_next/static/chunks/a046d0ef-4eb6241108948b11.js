"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6878],{36187:function(e,r,t){t.d(r,{JX:function(){return eS},Nr:function(){return E},S4:function(){return eU},bH:function(){return eP}});var n,o,i=t(2265),u=t(57437),a=t(94398),s=t.n(a),c=function(e,r){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])})(e,r)};function l(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}c(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var f=function(){return(f=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function v(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>r.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}function d(e,r,t,n){return new(t||(t=Promise))(function(o,i){function u(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var r;e.done?o(e.value):((r=e.value)instanceof t?r:new t(function(e){e(r)})).then(u,a)}s((n=n.apply(e,r||[])).next())})}function p(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(Y=Z||(Z={})).ONE_INCH="oneInch",Y.OPEN_SEA="opensea",Y.FIAT="fiat",Y.RARIBLE="rarible",new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-us",{style:"decimal",minimumSignificantDigits:1,maximumSignificantDigits:4});var h=(0,i.createContext)(null),b=function(e){function r(r){var t=e.call(this,"[react-moralis]: ".concat(r))||this;return t.name="ReactMoralisError",t.message=r,t}return l(r,e),r.isReactMoraliserrpr=!0,r}(Error),y=function(e){function r(r){var t=e.call(this,r)||this;return t.name="NoMoralisContextProviderError",t}return l(r,e),r}(b),w=function(e){function r(r){var t=e.call(this,r)||this;return t.name="NotAuthenticatedError",t}return l(r,e),r}(b),g=function(e){function r(r){var t=e.call(this,r)||this;return t.name="ValidationError",t}return l(r,e),r}(b),E=function(){var e=(0,i.useContext)(h);if(!e)throw new y("Make sure to only call useMoralis within a  <MoralisProvider>");return e},m=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(i=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=n;0!=o--;){var n,o,i,u=i[o];if(("_owner"!==u||!r.$$typeof)&&!e(r[u],t[u]))return!1}return!0}return r!=r&&t!=t};function O(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function A(e){return!!e&&!!e[es]}function P(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var r=Object.getPrototypeOf(e);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===ec}(e)||Array.isArray(e)||!!e[ea]||!!e.constructor[ea]||T(e)||N(e))}function I(e,r,t){void 0===t&&(t=!1),0===S(e)?(t?Object.keys:el)(e).forEach(function(n){t&&"symbol"==typeof n||r(n,e[n],e)}):e.forEach(function(t,n){return r(n,t,e)})}function S(e){var r=e[es];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:T(e)?2:N(e)?3:0}function U(e,r){return 2===S(e)?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function C(e,r,t){var n=S(e);2===n?e.set(r,t):3===n?(e.delete(r),e.add(t)):e[r]=t}function T(e){return en&&e instanceof Map}function N(e){return eo&&e instanceof Set}function j(e){return e.o||e.t}function D(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=ef(e);delete r[es];for(var t=el(r),n=0;n<t.length;n++){var o=t[n],i=r[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),r)}function _(e,r){return void 0===r&&(r=!1),k(e)||A(e)||!P(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=M),Object.freeze(e),r&&I(e,function(e,r){return _(r,!0)},!0)),e}function M(){O(2)}function k(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function R(e){var r=ev[e];return r||O(18,e),r}function F(e,r){r&&(R("Patches"),e.u=[],e.s=[],e.v=r)}function x(e){W(e),e.p.forEach(K),e.p=null}function W(e){e===er&&(er=e.l)}function H(e){return er={p:[],l:er,h:e,m:!0,_:0}}function K(e){var r=e[es];0===r.i||1===r.i?r.j():r.O=!0}function z(e,r){r._=r.p.length;var t=r.p[0],n=void 0!==e&&e!==t;return r.h.g||R("ES5").S(r,e,n),n?(t[es].P&&(x(r),O(4)),P(e)&&(e=L(r,e),r.l||$(r,e)),r.u&&R("Patches").M(t[es],e,r.u,r.s)):e=L(r,t,[]),x(r),r.u&&r.v(r.u,r.s),e!==eu?e:void 0}function L(e,r,t){if(k(r))return r;var n=r[es];if(!n)return I(r,function(o,i){return G(e,n,r,o,i,t)},!0),r;if(n.A!==e)return r;if(!n.P)return $(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=D(n.k):n.o;I(3===n.i?new Set(o):o,function(r,i){return G(e,n,o,r,i,t)}),$(e,o,!1),t&&e.u&&R("Patches").R(n,t,e.u,e.s)}return n.o}function G(e,r,t,n,o,i){if(A(o)){var u=L(e,o,i&&r&&3!==r.i&&!U(r.D,n)?i.concat(n):void 0);if(C(t,n,u),!A(u))return;e.m=!1}if(P(o)&&!k(o)){if(!e.h.F&&e._<1)return;L(e,o),r&&r.A.l||$(e,o)}}function $(e,r,t){void 0===t&&(t=!1),e.h.F&&e.m&&_(r,t)}function J(e,r){var t=e[es];return(t?j(t):e)[r]}function X(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function B(e){e.P||(e.P=!0,e.l&&B(e.l))}function V(e){e.o||(e.o=D(e.t))}function q(e,r,t){var n,o,i,u,a,s,c,l=T(r)?R("MapSet").N(r,t):N(r)?R("MapSet").T(r,t):e.g?(i=o={i:(n=Array.isArray(r))?1:0,A:t?t.A:er,P:!1,I:!1,D:{},l:t,t:r,k:null,o:null,j:null,C:!1},u=ed,n&&(i=[o],u=ep),s=(a=Proxy.revocable(i,u)).revoke,c=a.proxy,o.k=c,o.j=s,c):R("ES5").J(r,t);return(t?t.A:er).p.push(l),l}function Q(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return D(e)}var Y,Z,ee,er,et="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),en="undefined"!=typeof Map,eo="undefined"!=typeof Set,ei="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,eu=et?Symbol.for("immer-nothing"):((ee={})["immer-nothing"]=!0,ee),ea=et?Symbol.for("immer-draftable"):"__$immer_draftable",es=et?Symbol.for("immer-state"):"__$immer_state",ec=""+Object.prototype.constructor,el="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ef=Object.getOwnPropertyDescriptors||function(e){var r={};return el(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},ev={},ed={get:function(e,r){if(r===es)return e;var t,n,o=j(e);if(!U(o,r))return(n=X(o,r))?"value"in n?n.value:null===(t=n.get)||void 0===t?void 0:t.call(e.k):void 0;var i=o[r];return e.I||!P(i)?i:i===J(e.t,r)?(V(e),e.o[r]=q(e.A.h,i,e)):i},has:function(e,r){return r in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,r,t){var n=X(j(e),r);if(null==n?void 0:n.set)return n.set.call(e.k,t),!0;if(!e.P){var o=J(j(e),r),i=null==o?void 0:o[es];if(i&&i.t===t)return e.o[r]=t,e.D[r]=!1,!0;if((t===o?0!==t||1/t==1/o:t!=t&&o!=o)&&(void 0!==t||U(e.t,r)))return!0;V(e),B(e)}return e.o[r]===t&&"number"!=typeof t&&(void 0!==t||r in e.o)||(e.o[r]=t,e.D[r]=!0,!0)},deleteProperty:function(e,r){return void 0!==J(e.t,r)||r in e.t?(e.D[r]=!1,V(e),B(e)):delete e.D[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=j(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n?{writable:!0,configurable:1!==e.i||"length"!==r,enumerable:n.enumerable,value:t[r]}:n},defineProperty:function(){O(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){O(12)}},ep={};I(ed,function(e,r){ep[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),ep.deleteProperty=function(e,r){return ed.deleteProperty.call(this,e[0],r)},ep.set=function(e,r,t){return ed.set.call(this,e[0],r,t,e[0])};var eh=new(function(){function e(e){var r=this;this.g=ei,this.F=!0,this.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var o,i=t;return t=e,function(e){var n=this;void 0===e&&(e=i);for(var o=arguments.length,u=Array(o>1?o-1:0),a=1;a<o;a++)u[a-1]=arguments[a];return r.produce(e,function(e){var r;return(r=t).call.apply(r,[n,e].concat(u))})}}if("function"!=typeof t&&O(6),void 0!==n&&"function"!=typeof n&&O(7),P(e)){var u=H(r),a=q(r,e,void 0),s=!0;try{o=t(a),s=!1}finally{s?x(u):W(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return F(u,n),z(e,u)},function(e){throw x(u),e}):(F(u,n),z(o,u))}if(!e||"object"!=typeof e){if((o=t(e))===eu)return;return void 0===o&&(o=e),r.F&&_(o,!0),o}O(21,e)},this.produceWithPatches=function(e,t){var n,o;return"function"==typeof e?function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return r.produceWithPatches(t,function(r){return e.apply(void 0,[r].concat(o))})}:[r.produce(e,t,function(e,r){n=e,o=r}),n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var r=e.prototype;return r.createDraft=function(e){P(e)||O(8),A(e)&&(A(r=e)||O(22,r),e=function e(r){if(!P(r))return r;var t,n=r[es],o=S(r);if(n){if(!n.P&&(n.i<4||!R("ES5").K(n)))return n.t;n.I=!0,t=Q(r,o),n.I=!1}else t=Q(r,o);return I(t,function(r,o){var i;n&&(2===S(i=n.t)?i.get(r):i[r])===o||C(t,r,e(o))}),3===o?new Set(t):t}(r));var r,t=H(this),n=q(this,e,void 0);return n[es].C=!0,W(t),n},r.finishDraft=function(e,r){var t=(e&&e[es]).A;return F(t,r),z(void 0,t)},r.setAutoFreeze=function(e){this.F=e},r.setUseProxies=function(e){e&&!ei&&O(20),this.g=e},r.applyPatches=function(e,r){for(t=r.length-1;t>=0;t--){var t,n=r[t];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}t>-1&&(r=r.slice(t+1));var o=R("Patches").$;return A(e)?o(e,r):this.produce(e,function(e){return o(e,r)})},e}()),eb=eh.produce;eh.produceWithPatches.bind(eh),eh.setAutoFreeze.bind(eh),eh.setUseProxies.bind(eh),eh.applyPatches.bind(eh),eh.createDraft.bind(eh),eh.finishDraft.bind(eh);var ey=function(e,r,t,n,o,u){void 0===o&&(o=!0);var a,s,c=E().isInitialized,l=f({autoFetch:o},null!=n?n:{}).autoFetch,v=(0,i.useState)(!1),h=v[0],b=v[1],y=(0,i.useState)(null),w=y[0],g=y[1],O=(s=(a=(0,i.useState)(function(){return _("function"==typeof r?r():r,!0)}))[1],[a[0],(0,i.useCallback)(function(e){s("function"==typeof e?eb(e):_(e))},[])]),A=O[0],P=O[1],I=(0,i.useRef)(t);m(I.current,t)||(I.current=t);var S=(0,i.useCallback)(function(n){var o=void 0===n?{}:n,i=o.throwOnError,a=o.onComplete,s=o.onError,c=o.onSuccess,l=o.params;return d(void 0,void 0,void 0,function(){var n,o,v,d;return p(this,function(p){switch(p.label){case 0:n=f(f({},t),l),p.label=1;case 1:if(p.trys.push([1,3,4,5]),u&&(o=u(n)))throw Error(o);return b(!0),g(null),[4,e(n)];case 2:return P(v=p.sent()),c&&c(v),[2,v];case 3:if(d=p.sent(),P(r),g(d),i)throw d;return s&&s(d),[3,5];case 4:return b(!1),a&&a(),[7];case 5:return[2]}})})},[e,I.current,u]),U=(0,i.useMemo)(function(){return!!(null==A||Array.isArray(A)&&0===A.length)},[A]),C=(0,i.useMemo)(function(){return h&&U},[U,h]);return(0,i.useEffect)(function(){c&&l&&S()},[S,c]),{fetch:S,isFetching:h,isLoading:C,error:w,data:A,setData:P}},ew=function(e,r){var t=e.password,n=e.email,o=e.username,i=v(e,["password","email","username"]);if(void 0!==t){if("string"!=typeof t)throw new g("password can only be a string type");r.setPassword(t)}if(void 0!==n){if("string"!=typeof n)throw new g("email can only be a string type");r.setEmail(n)}if(void 0!==o){if("string"!=typeof o)throw new g("username can only be a string type");r.setUsername(o)}Object.entries(i).filter(function(e){return void 0!==e[1]}).forEach(function(e){var t=e[0],n=e[1];r.set(t,n)})};(n=o||(o={})).UNDEFINED="undefined",n.UNAUTHENTICATED="unauthenticated",n.AUTHENTICATED="authenticated",n.AUTHENTICATING="authenticating",n.LOGGING_OUT="logging_out",n.ERROR="error";var eg={state:o.UNDEFINED,error:null},eE=function(e){var r=f(f({},{setUser:function(){},Moralis:e.Moralis,environment:"browser"}),e),t=r.onAccountChanged,n=r.Moralis,u=r.environment,a=r._setIsWeb3Enabled,s=r._setIsWeb3EnableLoading,c=e.setUser,l=(0,i.useState)(eg),h=l[0],b=l[1],y=(0,i.useState)(!1),w=y[0],g=y[1],E=(0,i.useCallback)(function(e){return void 0===e&&(e={}),d(void 0,void 0,void 0,function(){var r,t,i=e.onComplete,u=e.onError,l=e.onSuccess,f=e.throwOnError,d=v(e,["onComplete","onError","onSuccess","throwOnError"]);return p(this,function(e){switch(e.label){case 0:b({state:o.AUTHENTICATING,error:null}),s&&s(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,n.authenticate(d)];case 2:return c(r=e.sent()),a&&a(!0),b({state:o.AUTHENTICATED,error:null}),l&&l(r),[2,r];case 3:if(t=e.sent(),b({state:o.ERROR,error:t}),c(null),u&&u(t),f)throw t;return[3,5];case 4:return s&&s(!1),i&&i(),[7];case 5:return[2]}})})},[a,s]),m=(0,i.useCallback)(function(e,r,t,i,u){void 0===i&&(i={});var a=void 0===u?{}:u,s=a.throwOnError,l=a.onSuccess,v=a.onError,h=a.onComplete;return d(void 0,void 0,void 0,function(){var u,a,d;return p(this,function(p){switch(p.label){case 0:b({state:o.AUTHENTICATING,error:null}),u=new n.User,ew(f({username:e,password:r,email:t},i),u),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,u.signUp()];case 2:return a=p.sent(),b({state:o.AUTHENTICATED,error:null}),c(a),l&&l(a),[2,a];case 3:if(d=p.sent(),b({state:o.ERROR,error:d}),s)throw d;return v&&v(d),[3,5];case 4:return h&&h(),[7];case 5:return[2]}})})},[]),O=(0,i.useCallback)(function(e,r,t){var i=void 0===t?{}:t,u=i.usePost,a=i.throwOnError,s=i.onError,l=i.onSuccess,f=i.onComplete;return d(void 0,void 0,void 0,function(){var t,i;return p(this,function(v){switch(v.label){case 0:b({state:o.AUTHENTICATING,error:null}),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,n.User.logIn(e,r,{usePost:u})];case 2:return t=v.sent(),b({state:o.AUTHENTICATED,error:null}),c(t),l&&l(t),[2,t];case 3:if(i=v.sent(),b({state:o.ERROR,error:i}),a)throw i;return s&&s(i),[3,5];case 4:return f&&f(),[7];case 5:return[2]}})})},[]),A=(0,i.useCallback)(function(e){var r=void 0===e?{}:e,t=r.throwOnError,i=r.onError,u=r.onSuccess,a=r.onComplete;return d(void 0,void 0,void 0,function(){var e,r;return p(this,function(s){switch(s.label){case 0:b({state:o.AUTHENTICATING,error:null}),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,n.User.logOut()];case 2:return s.sent(),b({state:o.UNAUTHENTICATED,error:null}),c(null),u&&u(),[3,5];case 3:if(e=s.sent(),b({state:o.ERROR,error:e}),c(null!==(r=n.User.current())&&void 0!==r?r:null),t)throw e;return i&&i(e),[3,5];case 4:return a&&a(),[7];case 5:return[2]}})})},[]);(0,i.useEffect)(function(){try{var e=n.User.current();if(e)b({state:o.AUTHENTICATED,error:null}),c(e);else throw Error("Let it catch")}catch(e){b({state:o.UNAUTHENTICATED,error:null}),c(null)}},[]),(0,i.useEffect)(function(){if(!w&&"browser"===u){if(!window){console.warn("No window object found");return}try{var e=window.ethereum;if(!e){console.warn("No window.ethereum found");return}e.on("accountsChanged",function(e){return d(void 0,void 0,void 0,function(){var r;return p(this,function(n){return r=e[0],t&&t(r),[2]})})})}catch(e){console.warn(e.message)}g(!0)}},[w]);var P=h.state===o.AUTHENTICATED,I=h.state===o.UNAUTHENTICATED,S=h.state===o.AUTHENTICATING,U=h.state===o.ERROR,C=h.state===o.LOGGING_OUT,T=h.state===o.UNDEFINED;return{auth:h,authenticate:E,signup:m,login:O,logout:A,authError:h.error,isAuthenticated:P,isUnauthenticated:I,isAuthenticating:S,hasAuthError:U,isLoggingOut:C,isAuthUndefined:T}},em=function(e){var r=e.appId,t=e.serverUrl,n=e.jsKey,o=e.dangerouslyUseOfMasterKey,u=e.plugins,a=e.environment,c=e.getMoralis,l=e.initializeOnMount,f=e.setAppId,v=e.setServerUrl,h=(0,i.useState)(!1),y=h[0],w=h[1],g=(0,i.useState)(!1),E=g[0],m=g[1],O=(0,i.useState)(!1),A=O[0],P=O[1],I=(0,i.useRef)((void 0===c?function(){return s()}:c)()),S=(0,i.useCallback)(function(e){var r=e.serverUrl,t=e.appId,n=e.javascriptKey,o=e.masterKey,i=e.plugins;return d(void 0,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:if(y)return[2];if(!t)throw new b('Provide a "appId" provided to <MoralisProvider>');if(!r)throw new b('Provide a "serverUrl" provided to <MoralisProvider>');return m(!0),[4,I.current.start({serverUrl:r,appId:t,javascriptKey:n,masterKey:o,plugins:i})];case 1:return e.sent(),m(!1),w(!0),[2]}})})},[]);return(0,i.useEffect)(function(){!y&&(l||A)&&(S({appId:r,serverUrl:t,masterKey:o,javascriptKey:n,plugins:u}),w(!0))},[r,t,o,n,u,y,l,A]),{isInitialized:y,isInitializing:E,initialize:(0,i.useCallback)(function(e){var n=void 0===e?{}:e,o=n.appId,i=n.serverUrl;if(o&&f(o),i&&v(i),!o&&!r)throw Error("No appId is provided. Please provide an appId to the Moralis.Provider or as argument in initialize()");if(!i&&!t)throw Error("No serverUrl is provided. Please provide an serverUrl to the Moralis.Provider or as argument in initialize()");P(!0)},[r,t]),Moralis:I.current,environment:void 0===a?"browser":a}},eO=function(e){var r=(0,i.useState)(null),t=r[0],n=r[1],o=(0,i.useState)(!1),u=o[0],a=o[1],s=(0,i.useState)(null),c=s[0],l=s[1],f=(0,i.useCallback)(function(r,o){var i=void 0===o?{}:o,u=i.throwOnError,s=i.onComplete,c=i.onError,f=i.onSuccess;return d(void 0,void 0,void 0,function(){var o,i,v;return p(this,function(d){switch(d.label){case 0:if(!t)throw new w("User needs to be authenticated before setting new data");a(!0),l(null),o=!1,d.label=1;case 1:return d.trys.push([1,3,4,5]),ew(r,t),o=!0,[4,t.save()];case 2:if(d.sent(),!(i=e.User.current()))throw new b("No user data found after save");return n(i),f&&f(t),[2,t];case 3:if(v=d.sent(),o&&t.revert(),l(v),u)throw v;return c&&c(v),[3,5];case 4:return a(!1),s&&s(),[7];case 5:return[2]}})})},[t]),v=(0,i.useCallback)(function(e){var r=void 0===e?{}:e,o=r.throwOnError,i=r.onComplete,u=r.onError,s=r.onSuccess;return d(void 0,void 0,void 0,function(){var e,r;return p(this,function(c){switch(c.label){case 0:if(!t)throw new w("User needs to be authenticated before refetching");a(!0),l(null),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,t.fetch()];case 2:if(!(e=c.sent()))throw new b("No user data found after refetch");return n(e),s&&s(e),[2,e];case 3:if(l(r=c.sent()),o)throw r;return u&&u(r),[3,5];case 4:return a(!1),i&&i(),[7];case 5:return[2]}})})},[t]);return{setUserData:f,setUser:n,refetchUserData:v,user:t,_setUser:n,isUserUpdating:u,userError:c}},eA=function(e){var r=(0,i.useState)(!1),t=r[0],n=r[1],o=(0,i.useState)(null),u=o[0],a=o[1],s=(0,i.useState)(!1),c=s[0],l=s[1],f=(0,i.useState)(null),h=f[0],b=f[1],y=(0,i.useState)(null),w=y[0],g=y[1],E=(0,i.useState)(null),m=E[0],O=E[1],A=(0,i.useState)(null),P=A[0],I=A[1],S=(0,i.useState)(null),U=S[0],C=S[1];(0,i.useEffect)(function(){var r=function(){b(null),n(!1),g(null),O(null),I(null),C(null)},t=e.onChainChanged(function(r){g(r),b(e.web3)}),o=e.onAccountChanged(O),i=e.onWeb3Enabled(function(e){var r=e.web3,t=e.chainId,n=e.account,o=e.connector,i=e.provider;b(r),g(t),O(n),I(o),C(i)}),u=e.onWeb3Deactivated(r),a=e.onDisconnect(r);return function(){t(),o(),i(),u(),a()}},[e]);var T=(0,i.useCallback)(function(r){return void 0===r&&(r={}),d(void 0,void 0,void 0,function(){var t,o,i=r.throwOnError,u=r.onComplete,s=r.onError,c=r.onSuccess,f=v(r,["throwOnError","onComplete","onError","onSuccess"]);return p(this,function(r){switch(r.label){case 0:l(!0),a(null),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,e.enableWeb3(f)];case 2:return t=r.sent(),n(!0),c&&c(t),[2,t];case 3:if(a(o=r.sent()),i)throw o;return s&&s(o),[3,5];case 4:return l(!1),u&&u(),[7];case 5:return[2]}})})},[]),N=(0,i.useCallback)(function(){return d(void 0,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,e.deactivateWeb3()];case 1:return r.sent(),[2]}})})},[]),j=(0,i.useMemo)(function(){var e;return null!==(e=null==P?void 0:P.network)&&void 0!==e?e:null},[P]),D=(0,i.useMemo)(function(){var e;return null!==(e=null==P?void 0:P.type)&&void 0!==e?e:null},[P]);return{enableWeb3:T,web3:h,isWeb3Enabled:t,web3EnableError:u,isWeb3EnableLoading:c,_setIsWeb3Enabled:n,_setIsWeb3EnableLoading:l,chainId:w,account:m,network:j,connector:P,connectorType:D,deactivateWeb3:N,provider:U}},eP=function(e){var r=e.children,t=e.appId,n=e.serverUrl,o=e.jsKey,a=e.dangerouslyUseOfMasterKey,s=e.plugins,c=e.environment,l=e.getMoralis,d=e.options,p=(void 0===d?{}:d).onAccountChanged,b=e.initializeOnMount,y=(0,i.useState)(null!=t?t:null),w=y[0],g=y[1],E=(0,i.useState)(null!=n?n:null),m=E[0],O=em({appId:w,serverUrl:m,jsKey:o,dangerouslyUseOfMasterKey:a,plugins:s,environment:c,getMoralis:l,initializeOnMount:void 0===b||b,setAppId:g,setServerUrl:E[1]}),A=eA(O.Moralis),P=A._setIsWeb3Enabled,I=A._setIsWeb3EnableLoading,S=v(A,["_setIsWeb3Enabled","_setIsWeb3EnableLoading"]),U=eO(O.Moralis),C=U.setUser,T=v(U,["setUser"]),N=eE({onAccountChanged:p,setUser:C,Moralis:O.Moralis,environment:O.environment,_setIsWeb3Enabled:P,_setIsWeb3EnableLoading:I});return(0,u.jsx)(h.Provider,f({value:f(f(f(f(f({},O),N),T),S),{appId:w,serverUrl:m})},{children:r}),void 0)},eI=function(e,r){var t=E().Moralis;return ey((0,i.useCallback)(function(r){return d(void 0,void 0,void 0,function(){var n;return p(this,function(o){switch(o.label){case 0:return n=f(f({},e),r),[4,t.executeFunction(n)];case 1:return[2,o.sent()]}})})},[]),null,e,r,!1)},eS=function(e){var r=eI(e),t=r.data,n=r.error;return{runContractFunction:r.fetch,data:t,error:n,isFetching:r.isFetching,isLoading:r.isLoading}},eU=function(e){var r=E().web3,t=(0,i.useState)(null),n=t[0],o=t[1],u=(0,i.useState)(!1),a=u[0],s=u[1],c=(0,i.useState)(null),l=c[0],f=c[1];return(0,i.useEffect)(function(){r&&(s(!0),f(null),r.lookupAddress(e).then(function(e){o(e)}).catch(f).finally(function(){s(!1)}))},[e,r]),{name:n,isLoading:a,error:l}}}}]);